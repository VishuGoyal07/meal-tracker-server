{"version":3,"file":"db.js","names":["DB_NAME","db","_dbClient","connect","url","MongoClient","useNewUrlParser","useUnifiedTopology","client","getConnection","console","log","process","exit"],"sources":["../../src/db/db.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\r\n\r\nconst DB_NAME = 'meal-tracker';\r\n\r\nexport const db = {\r\n    _dbClient: null,\r\n    connect: async function(url) {\r\n        const client = await MongoClient.connect(url, {\r\n            //poolSize: 10,\r\n            useNewUrlParser: true,\r\n            useUnifiedTopology: true,\r\n        });\r\n        this._dbClient = client;\r\n    }, \r\n    getConnection: function() {\r\n        if (!this._dbClient) {\r\n            console.log('You need to call the connect() function first!');\r\n            process.exit(1);\r\n        }\r\n\r\n        return this._dbClient.db(DB_NAME);\r\n    },\r\n}"],"mappings":";;;;;;;;;AAAA;;+CACA,oJ;;;;;;AACA,IAAMA,OAAO,GAAG,cAAhB;AAEO,IAAMC,EAAE,GAAG;EACdC,SAAS,EAAE,IADG;EAEdC,OAAO;IAAA,0EAAE,iBAAeC,GAAf;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACgBC,oBAAA,CAAYF,OAAZ,CAAoBC,GAApB,EAAyB;gBAC1C;gBACAE,eAAe,EAAE,IAFyB;gBAG1CC,kBAAkB,EAAE;cAHsB,CAAzB,CADhB;;YAAA;cACCC,MADD;cAML,KAAKN,SAAL,GAAiBM,MAAjB;;YANK;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAF;;IAAA;MAAA;IAAA;;IAAA;EAAA,GAFO;EAUdC,aAAa,EAAE,yBAAW;IACtB,IAAI,CAAC,KAAKP,SAAV,EAAqB;MACjBQ,OAAO,CAACC,GAAR,CAAY,gDAAZ;MACAC,OAAO,CAACC,IAAR,CAAa,CAAb;IACH;;IAED,OAAO,KAAKX,SAAL,CAAeD,EAAf,CAAkBD,OAAlB,CAAP;EACH;AAjBa,CAAX"}